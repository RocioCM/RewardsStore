(this["webpackJsonpstore-rocio-corral"]=this["webpackJsonpstore-rocio-corral"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(1),s=n.n(c),a=n(8),o=n.n(a),i=n(4),l=s.a.createContext();var u=function(e){var t=e.children,n=e.context;return Object(r.jsx)(l.Provider,{value:n,children:t})},j=n(2),d=n.n(j),h=n(3),b=n(5),p=n(6),f=function(){function e(){Object(b.a)(this,e)}return Object(p.a)(e,null,[{key:"getUser",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.headers,e.prev=1,e.next=4,fetch("https://coding-challenge-api.aerolab.co/user/me",{headers:t});case 4:return n=e.sent,e.next=7,n.json();case 7:return n=e.sent,e.abrupt("return",n);case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"postCoins",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"post",mode:"cors",headers:this.headers,body:{amount:t}},console.log(n),e.prev=2,e.next=5,fetch("https://coding-challenge-api.aerolab.co/user/points",n);case 5:return r=e.sent,console.log(r),e.next=9,r.json();case 9:return r=e.sent,e.abrupt("return",r);case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0);case 16:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();f.headers={"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZmFjMjQ0OWI5NTIzZTAwMjA3ZTFmYzMiLCJpYXQiOjE2MDUxMTcwMDF9.vHMYlEKnpSVDSejVVyittmqUhIQ9pbD2U5CvqwQYJ4I"};var O=f,x=n.p+"static/media/coin.91170049.svg";n(15);var m=function(e){var t=e.show,n=e.handleShow,c=function(){return n(!1)};function s(e){return a.apply(this,arguments)}function a(){return(a=Object(h.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.postCoins(t);case 2:n=e.sent,console.log(n),alert("Se agregaron "+t+" moneditas."),c();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.jsx)("div",{className:"modal-screen",style:{display:t?"initial":"none"},children:Object(r.jsxs)("section",{className:"modal",children:[Object(r.jsx)("button",{className:"quit-btn",onClick:c,children:"X"}),Object(r.jsx)("header",{children:Object(r.jsx)("h2",{children:"Agregar m\xe1s monedas"})}),Object(r.jsxs)("div",{className:"coins-btns-ctn",children:[Object(r.jsxs)("button",{onClick:function(){return s(1e3)},children:[Object(r.jsx)("img",{className:"coin-icon",src:x,alt:"coin"})," 1000"]}),Object(r.jsxs)("button",{onClick:function(){return s(5e3)},children:[Object(r.jsx)("img",{className:"coin-icon",src:x,alt:"coin"})," 5000"]}),Object(r.jsxs)("button",{onClick:function(){return s(7500)},children:[Object(r.jsx)("img",{className:"coin-icon",src:x,alt:"coin"})," 7500"]})]})]})})};var v=function(){var e=Object(c.useContext)(l).setSection,t=Object(c.useState)({username:"",coins:0}),n=Object(i.a)(t,2),s=n[0],a=n[1],o=Object(c.useState)(!1),u=Object(i.a)(o,2),j=u[0],b=u[1],p=function(){var e=Object(h.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.getUser();case 2:t=e.sent,console.log(t),a({username:t.name,coins:t.points});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){return p()}),[]),Object(r.jsxs)("div",{className:"user-info",children:[Object(r.jsx)("h3",{className:"username",onClick:function(){e({section:"history",title:"Historial"})},children:s.username}),Object(r.jsxs)("h3",{title:"Add coins",className:"user-coins",onClick:function(){b(!0)},children:[Object(r.jsx)("span",{children:s.coins}),Object(r.jsx)("img",{className:"coin-icon",src:x,alt:"coin"})]}),Object(r.jsx)(m,{show:j,handleShow:b})]})},g=n.p+"static/media/aerolab-logo.40b78ac9.svg";n(16);var w=function(){var e=Object(c.useContext)(l).setSection;return Object(r.jsxs)("header",{className:"header-bar",children:[Object(r.jsx)("img",{src:g,onClick:function(){e({section:"electronics",title:"Electr\xf3nica"})},alt:"aerolab logo"}),Object(r.jsx)(v,{})]})};var y=function(e){var t=e.title;return Object(r.jsx)("section",{className:"section-header",children:Object(r.jsx)("h1",{className:"header-title",children:t})})};var C=function(e){var t=e.className;return Object(r.jsxs)("svg",{className:"arrow-icon ".concat(t),width:"48px",height:"48px",viewBox:"0 0 48 48",version:"1.1",children:[Object(r.jsx)("defs",{}),Object(r.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(r.jsx)("g",{id:"Catalog-p2",transform:"translate(-1200.000000, -512.000000)",children:Object(r.jsx)("g",{id:"menu",transform:"translate(132.000000, 512.000000)",children:Object(r.jsx)("g",{id:"arrow-left",transform:"translate(1068.000000, 0.000000)",children:Object(r.jsxs)("g",{id:"Group-15",children:[Object(r.jsx)("circle",{id:"Oval-4",stroke:"#D9D9D9",cx:"24",cy:"24",r:"23.5"}),Object(r.jsx)("polygon",{id:"Shape",fill:"#D9D9D9",transform:"translate(24.000000, 23.705000) rotate(-270.000000) translate(-24.000000, -23.705000) ",points:"28.59 20 24 24.58 19.41 20 18 21.41 24 27.41 30 21.41"})]})})})})})]})};var k=function(e){var t=e.pageParams,n=e.children,c=Math.min(16*t.page,t.total);return Object(r.jsxs)("div",{className:"controls-bar",children:[Object(r.jsxs)("span",{children:[c," de ",t.total," productos"]}),n,Object(r.jsxs)("div",{children:[Object(r.jsx)(C,{className:"left",onClick:function(){return console.log("Next page")}}),Object(r.jsx)(C,{className:"right",onClick:function(){return console.log("Previous page")}})]})]})};var N=function(e){var t=e.products,n=e.setProducts,s=Object(c.useState)(0),a=Object(i.a)(s,2),o=a[0],l=a[1];return Object(r.jsxs)("p",{className:"sort-controls-ctn",children:["Ordenar por:",[{callback:function(e,t){return e._id<t._id?-1:1},wording:"M\xe1s reciente"},{callback:function(e,t){return e.cost-t.cost},wording:"Precio Bajo"},{callback:function(e,t){return t.cost-e.cost},wording:"Precio Alto"}].map((function(e,c){var s=e.callback,a=e.wording;return Object(r.jsx)("button",{className:"sort-option-btn ".concat(o==c?"active":""),onClick:function(){return function(e,r){var c=t.slice().sort(r);n(c),l(e)}(c,s)},children:a})}))]})};var M=function(e){var t=e.cost,n=e.handleClick;return Object(r.jsxs)("div",{className:"card-overlay",children:[Object(r.jsxs)("h3",{className:"price",children:[t,Object(r.jsx)("img",{className:"coin-icon",src:x,alt:"coin"})]}),Object(r.jsx)("button",{className:"redeem-btn",onClick:n,children:"Canjear ahora"})]})};var I=function(){return Object(r.jsxs)("svg",{className:"buy-icon",width:"50px",height:"50px",viewBox:"0 0 50 50",version:"1.1",children:[Object(r.jsx)("defs",{children:Object(r.jsxs)("filter",{x:"-9.1%",y:"-9.1%",width:"128.3%",height:"128.3%",filterUnits:"objectBoundingBox",id:"filter-1",children:[Object(r.jsx)("feOffset",{dx:"2",dy:"2",in:"SourceAlpha",result:"shadowOffsetOuter1"}),Object(r.jsx)("feGaussianBlur",{stdDeviation:"2",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),Object(r.jsx)("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.1 0",type:"matrix",in:"shadowBlurOuter1",result:"shadowMatrixOuter1"}),Object(r.jsxs)("feMerge",{children:[Object(r.jsx)("feMergeNode",{in:"shadowMatrixOuter1"}),Object(r.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})}),Object(r.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(r.jsx)("g",{id:"Catalog",transform:"translate(-652.000000, -634.000000)",children:Object(r.jsx)("g",{id:"products",transform:"translate(132.000000, 624.000000)",children:Object(r.jsx)("g",{id:"line-1",children:Object(r.jsx)("g",{id:"product-card-hover",filter:"url(#filter-1)",transform:"translate(300.000000, 0.000000)",children:Object(r.jsx)("g",{id:"icon-white",transform:"translate(222.000000, 12.000000)",children:Object(r.jsxs)("g",{children:[Object(r.jsx)("circle",{className:"circle",id:"Oval-Copy-6",cx:"21",cy:"21",r:"21"}),Object(r.jsx)("path",{className:"bag-icon",d:"M29.9946924,29.1076172 L28.8822001,15.5306936 C28.8580225,15.225303 28.594495,14.9894436 28.277518,14.9894436 L25.2452125,14.9894436 L25.2452125,13.9296875 C25.2452125,12.3142578 23.8849203,11 22.2129071,11 L19.7870627,11 C18.1150494,11 16.7547572,12.3142578 16.7547572,13.9296875 L16.7547572,14.9894436 L13.7224518,14.9894436 C13.4054748,14.9894436 13.1419472,15.225303 13.1177696,15.5306936 L12.0053178,29.1073828 C11.9665447,29.5939844 12.1411651,30.0784375 12.4843816,30.4365234 C12.8275982,30.7946094 13.3141821,31 13.8193238,31 L28.1806055,31 C28.6857472,31 29.1722907,30.7946484 29.5155477,30.4365625 C29.8588046,30.0784766 30.033425,29.5940234 29.9946924,29.1076172 Z M18,14.25 C18,13.00935 18.80748,12 19.8,12 L22.2,12 C23.19252,12 24,13.00935 24,14.25 L24,15 L18,15 L18,14.25 Z",id:"Shape-Copy-2",fillRule:"nonzero"})]})})})})})})})]})},S=function(){function e(){Object(b.a)(this,e)}return Object(p.a)(e,null,[{key:"getProducts",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.headers,e.prev=1,e.next=4,fetch("https://coding-challenge-api.aerolab.co/products",{headers:t});case 4:return n=e.sent,e.next=7,n.json();case 7:return n=e.sent,console.log(n),e.abrupt("return",n);case 12:return e.prev=12,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",[]);case 16:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"getHistory",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.headers,e.prev=1,e.next=4,fetch("https://private-anon-20e65f592c-aerolabchallenge.apiary-mock.com/user/history",{headers:t});case 4:return n=e.sent,e.next=7,n.json();case 7:return n=e.sent,console.log(n),e.abrupt("return",n);case 12:return e.prev=12,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",[]);case 16:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"postRedeem",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"post",mode:"cors",headers:this.headers,body:{productId:t}},console.log(n),e.prev=2,e.next=5,fetch("https://coding-challenge-api.aerolab.co/redeem",n);case 5:return r=e.sent,console.log(r),e.next=9,r.json();case 9:return r=e.sent,e.abrupt("return",r);case 13:return e.prev=13,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();S.headers={"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZmFjMjQ0OWI5NTIzZTAwMjA3ZTFmYzMiLCJpYXQiOjE2MDUxMTcwMDF9.vHMYlEKnpSVDSejVVyittmqUhIQ9pbD2U5CvqwQYJ4I"};var D=S;var P=function(e){var t=e.product,n=t._id,s=t.category,a=t.name,o=t.cost,i=t.img.url,u=Object(c.useContext)(l),j=u.coins,b=u.section,p=o<=j,f=function(){var e=Object(h.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.postRedeem(n);case 2:t=e.sent,console.log(t),alert("Producto canjeado exitosamente (mentira) :D");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)("article",{className:"product-card",children:[p||"history"===b?Object(r.jsx)(I,{}):Object(r.jsxs)("div",{className:"coins-left-msg",children:["Necesitas ",o-j,Object(r.jsx)("img",{className:"coin-icon",src:x,alt:"coin"})]}),Object(r.jsx)("img",{src:i,alt:a}),Object(r.jsx)("h4",{className:"product-category",children:s}),Object(r.jsx)("h4",{className:"product-name",children:a}),"history"!==b&&p&&Object(r.jsx)(M,{cost:o,handleClick:f})]})};var J=function(e){var t=e.products,n=e.handlePage;return Object(c.useEffect)((function(){return n({page:2,total:31})}),[]),Object(r.jsx)("div",{className:"cards-ctn",children:t.map((function(e){return Object(r.jsx)(P,{product:e},e._id)}))})};n(17);var L=function(e){var t=e.section,n=Object(c.useState)([]),s=Object(i.a)(n,2),a=s[0],o=s[1],l=Object(c.useState)({page:0,total:0}),u=Object(i.a)(l,2),j=u[0],b=u[1],p=function(){var e=Object(h.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=null,e.t0=t,e.next="history"===e.t0?4:8;break;case 4:return e.next=6,D.getHistory();case 6:return n=e.sent,e.abrupt("break",11);case 8:return e.next=10,D.getProducts();case 10:n=e.sent;case 11:o(n);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){return p()}),[t]),Object(r.jsxs)("section",{className:"main-section",children:[Object(r.jsx)(k,{pageParams:j,children:Object(r.jsx)(N,{products:a,setProducts:o})}),Object(r.jsx)(J,{products:a,handlePage:b}),Object(r.jsx)(k,{pageParams:j})]})};n(18);var A=function(){var e=Object(c.useState)({section:"electronics",title:"Electr\xf3nica"}),t=Object(i.a)(e,2),n=t[0],s=t[1];return Object(r.jsxs)(u,{context:{coins:1e3,setSection:s},children:[Object(r.jsx)(w,{}),Object(r.jsx)(y,{title:n.title}),Object(r.jsx)(L,{section:n.section})]})};o.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(A,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.7c473d4e.chunk.js.map