(this["webpackJsonpstore-rocio-corral"]=this["webpackJsonpstore-rocio-corral"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(2),s=n.n(c),a=n(8),o=n.n(a),i=n(1),u=n.n(i),l=n(3),j=n(4),h=n(5),p=n(6),d=function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,null,[{key:"getProducts",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.headers,e.prev=1,e.next=4,fetch("https://coding-challenge-api.aerolab.co/products",{headers:t});case 4:return n=e.sent,e.next=7,n.json();case 7:return n=e.sent,console.log(n),e.abrupt("return",n);case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"getHistory",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.headers,e.prev=1,e.next=4,fetch("https://coding-challenge-api.aerolab.co/user/history",{headers:t});case 4:return n=e.sent,e.next=7,n.json();case 7:return n=e.sent,console.log(n),e.abrupt("return",n);case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"addCoins",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"post",mode:"cors",headers:this.headers,body:{productId:t}},console.log(n),e.prev=2,e.next=5,fetch("https://coding-challenge-api.aerolab.co/redeem",n);case 5:return r=e.sent,console.log(r),e.next=9,r.json();case 9:return r=e.sent,e.abrupt("return",r);case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0);case 16:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();d.headers={"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZmFjMjQ0OWI5NTIzZTAwMjA3ZTFmYzMiLCJpYXQiOjE2MDUxMTcwMDF9.vHMYlEKnpSVDSejVVyittmqUhIQ9pbD2U5CvqwQYJ4I"};var b=d,f=s.a.createContext();var x=function(e){var t=e.children,n=e.context;return Object(r.jsx)(f.Provider,{value:n,children:t})},O=function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,null,[{key:"getUser",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.headers,e.prev=1,e.next=4,fetch("https://coding-challenge-api.aerolab.co/user/me",{headers:t});case 4:return n=e.sent,e.next=7,n.json();case 7:return n=e.sent,e.abrupt("return",n);case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"addCoins",value:function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"post",mode:"cors",headers:this.headers,body:{amount:t}},console.log(n),e.prev=2,e.next=5,fetch("https://coding-challenge-api.aerolab.co/user/points",n);case 5:return r=e.sent,console.log(r),e.next=9,r.json();case 9:return r=e.sent,e.abrupt("return",r);case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0);case 16:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();O.headers={"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZmFjMjQ0OWI5NTIzZTAwMjA3ZTFmYzMiLCJpYXQiOjE2MDUxMTcwMDF9.vHMYlEKnpSVDSejVVyittmqUhIQ9pbD2U5CvqwQYJ4I"};var v=O;n(15);var m=function(e){var t=e.show,n=e.handleShow,c=function(){return n(!1)};function s(e){return a.apply(this,arguments)}function a(){return(a=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.addCoins(t);case 2:n=e.sent,console.log(n),alert("Se agregaron "+t+" moneditas."),c();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.jsx)("div",{className:"modal-screen",style:{display:t?"initial":"none"},children:Object(r.jsxs)("section",{className:"modal",children:[Object(r.jsx)("button",{className:"quit-btn",onClick:c,children:"X"}),Object(r.jsx)("header",{children:Object(r.jsx)("h2",{children:"Agregar m\xe1s monedas"})}),Object(r.jsxs)("div",{className:"coins-btns-ctn",children:[Object(r.jsxs)("button",{onClick:function(){return s(1e3)},children:[Object(r.jsx)("span",{className:"coin-icon"}),"1000"]}),Object(r.jsxs)("button",{onClick:function(){return s(5e3)},children:[Object(r.jsx)("span",{className:"coin-icon"}),"5000"]}),Object(r.jsxs)("button",{onClick:function(){return s(7500)},children:[Object(r.jsx)("span",{className:"coin-icon"}),"7500"]})]})]})})};var g=function(){var e=Object(c.useContext)(f).setSection,t=Object(c.useState)({username:"",coins:0}),n=Object(j.a)(t,2),s=n[0],a=n[1],o=Object(c.useState)(!1),i=Object(j.a)(o,2),h=i[0],p=i[1],d=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getUser();case 2:t=e.sent,console.log(t),a({username:t.name,coins:t.points});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){return d()}),[]),Object(r.jsxs)("div",{className:"user-info",children:[Object(r.jsx)("h3",{className:"username",onClick:function(){e({section:"history",title:"Historial"})},children:s.username}),Object(r.jsxs)("h3",{className:"user-coins",onClick:function(){p(!0)},children:[Object(r.jsx)("span",{children:s.coins}),Object(r.jsx)("i",{className:"coin-icon"})]}),Object(r.jsx)(m,{show:h,handleShow:p})]})};var C=function(){var e=Object(c.useContext)(f).setSection;return Object(r.jsxs)("svg",{className:"main-logo",width:"39px",height:"36px",viewBox:"0 0 39 36",onClick:function(){e({section:"electronics",title:"Electr\xf3nica"})},children:[Object(r.jsx)("defs",{children:Object(r.jsxs)("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"linearGradient-1",children:[Object(r.jsx)("stop",{stopColor:"#FF8800",offset:"0%"}),Object(r.jsx)("stop",{stopColor:"#FF6600",offset:"100%"})]})}),Object(r.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(r.jsx)("g",{id:"Catalog",transform:"translate(-16.000000, -16.000000)",fill:"url(#linearGradient-1)",children:Object(r.jsx)("g",{id:"top",children:Object(r.jsx)("path",{d:"M46.868244,16.404544 C46.6405958,16.0177278 46.1363003,15.8851051 45.7421767,16.1085325 L32.2482382,23.7546496 C31.9411566,23.9287916 31.7816812,24.2764781 31.8528973,24.6175933 L36.3942582,46.3988127 C36.4161301,46.5037148 36.370779,46.6585782 36.3020649,46.734636 L35.7503076,47.3453612 C34.6032406,48.615134 33.631475,49.3030396 31.7844202,49.3030396 C29.7133694,49.3030396 28.7409951,48.2316035 27.2013263,46.3378469 C25.3624888,44.0763908 23.0744418,41.2620414 17.5113649,41.2620414 L17.3738021,41.2620414 C16.6150762,41.2620414 16,41.8657137 16,42.6103723 C16,43.3550308 16.6150762,43.9587031 17.3738021,43.9587031 L17.5113649,43.9587031 C21.7514649,43.9587031 23.3553499,45.9313165 25.0535812,48.0198254 C26.5704243,49.8855042 28.2896551,52 31.7844202,52 C34.8013676,52 36.461556,50.6226953 37.8061413,49.134573 L42.7657069,43.6456657 C42.7657069,43.645367 54.5617185,30.5894981 54.5617185,30.5894981 C54.7969752,30.3290319 54.8362354,29.9499819 54.6588037,29.6482951 L46.868244,16.404544 Z",id:"logo"})})})})]})};n(16);var y=function(){return Object(r.jsxs)("header",{className:"header-bar",children:[Object(r.jsx)(C,{}),Object(r.jsx)(g,{})]})};var w=function(e){var t=e.title;return Object(r.jsx)("section",{className:"section-header",children:Object(r.jsx)("h1",{className:"header-title",children:t})})};var k=function(e){var t=e.children;return Object(r.jsxs)("div",{className:"controls-bar",children:[Object(r.jsx)("span",{children:"16 of 32 products"}),t,Object(r.jsx)("span",{children:"(<) (>)"})]})};var N=function(){return Object(r.jsxs)("p",{className:"sort-controls-ctn",children:["Sort by:",Object(r.jsx)("button",{className:"sort-option-btn",children:"Most Recent"}),Object(r.jsx)("button",{className:"sort-option-btn",children:"Lowest Price"}),Object(r.jsx)("button",{className:"sort-option-btn",children:"Highest Price"})]})};var I=function(e){var t=e.product;return Object(r.jsx)("h3",{children:t.name})};n(17);var M=function(e){return Object(r.jsxs)("section",{className:"main-section",children:[Object(r.jsx)(k,{children:Object(r.jsx)(N,{})}),e.products.map((function(e){return Object(r.jsx)(I,{product:e})})),Object(r.jsx)(k,{})]})};n(18);var S=function(){var e=Object(c.useState)({section:"electronics",title:"Electr\xf3nica"}),t=Object(j.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)([]),o=Object(j.a)(a,2),i=o[0],h=o[1],p=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=null,e.t0=n.section,e.next="history"===e.t0?4:8;break;case 4:return e.next=6,b.getHistory();case 6:return t=e.sent,e.abrupt("break",11);case 8:return e.next=10,b.getProducts();case 10:t=e.sent;case 11:t&&h(t);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){return p()}),[n]),Object(r.jsxs)(x,{context:{products:i,setSection:s},children:[Object(r.jsx)(y,{}),Object(r.jsx)(w,{title:n.title}),Object(r.jsx)(M,{products:i})]})};o.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(S,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.17110ef7.chunk.js.map